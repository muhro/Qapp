<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="refresh" content=”0;URL=http://env-0327837.jelastic.metropolia.fi/”/>
    <title>Frontpage</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet"
          href="https://unpkg.com/bootstrap-material-design@4.1.1/dist/css/bootstrap-material-design.min.css"
          integrity="sha384-wXznGJNEXNG1NFsbm0ugrLFMQPWswR3lds2VeinahP8N0zJw9VWSopbjv2x7WCvX" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
<div>
    <div class="container-login">
        <div class="wrap-home">

            <div class="bmd-layout-container bmd-drawer-f-l bmd-drawer-overlay">
                <header class="bmd-layout-header">
                    <div class="navbar navbar-light bg-faded menuButt">
                        <ul class="nav navbar-nav">

                            <button class="navbar-toggler" type="button" data-toggle="drawer" data-target="#dw-s2">
                                <span class="sr-only">Toggle drawer</span>
                                <i class="material-icons matButt">menu</i>
                            </button>

                        </ul>
                        <h4 class="headerH">Frontpage</h4>

                        <button class="navbar-toggler" data-toggle="modal" data-target="#modalPostForm">
                            <span class="material-icons">post_add</span>
                        </button>

                    </div>
                </header>

                <div id="dw-s2" class="bmd-layout-drawer bg-faded">

                    <header class="userHeader">
                        <img id="profileimage" src="./images/avatar-temp.png" class="imgthumbnail" alt="avatar">
                        <a class="navbar-brand" id="username" style="text-decoration: none; color: #666666">Profile</a>

                    </header>
                    <ul class="list-group">
                        <a class="list-group-item" href="./home.html"><span class="material-icons">home</span>Frontpage</a>
                        <a class="list-group-item" href="#userOverView"><span class="material-icons">list</span>Overview</a>
                        <a class="list-group-item" href="./profile.html"><span class="material-icons">settings</span>Settings</a>
                    </ul>
                    <button class="logout" id="logoutButt"><a href="/logout" class="logoutText">LOGOUT</a></button>
                </div>

                <main class="bmd-layout-content">
                    <div class="scrollDiv">
                        <ul id="ulposts">


                        </ul>
                    </div>
                </main>
            </div>


        </div>
    </div>
</div>


<div class="modal fade modalPostForm" id="modalPostForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">

            <form  class="post-form">
                <span class="register-form-title"> Create a post</span>

                <div class="register-input ">
                    <h5>Post title:</h5>
                    <textarea id="headerInput" class="inputHeader" type="text" name="header" placeholder="header" maxlength="100"></textarea>
                    <span class=""></span>
                    <a id="countHeader"></a>
                </div>
                <div class="register-input ">
                    <h5>Post content:</h5>
                    <textarea id="flavorInput" class="inputFlavor" type="text" name="text" placeholder="text" maxlength="500"></textarea>
                    <span class=""></span>
                    <a id="countFlavor"></a>
                </div>
                <div class="container-register-form-btn">
                    <div class="wrap-register-form-btn">
                        <div class="register-form-bgbtn"></div>
                        <button class="register-form-btn" id="modalPostFormBtn">
                            Create
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>
</div>
</body>

<script src="js/home.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/popper.js@1.12.6/dist/umd/popper.js"
        integrity="sha384-fA23ZRQ3G/J53mElWqVJEGJzU0sTs+SvzG8fXVWP+kJQ1lwFAOkcUOysnlKJC33U"
        crossorigin="anonymous"></script>
<script src="https://unpkg.com/bootstrap-material-design@4.1.1/dist/js/bootstrap-material-design.js"
        integrity="sha384-CauSuKpEqAFajSpkdjv3z9t8E7RlpJ1UP0lKM/+NdtSarroVKu069AlsRPKkFBz9"
        crossorigin="anonymous"></script>
<script>
  document.getElementById('modalPostFormBtn').addEventListener('click', function() {
    location.reload();
  });
  document.getElementById('logoutButt').addEventListener('click', function() {
    console.log('local storage cleared');
    localStorage.clear();
  });
  $(document).ready(function() {
    let maxcharHeader = 100;
    let maxcharFlavor = 500;
    let i = document.getElementById("headerInput");
    let j = document.getElementById("flavorInput");
    let c = document.getElementById("countHeader");
    let d = document.getElementById("countFlavor");
    c.innerHTML = maxcharHeader;
    d.innerHTML = maxcharFlavor;

    $(i).keyup(function() {
      let text_length = $(i).val().length;
      let text_remaining = maxcharHeader - text_length;

      $(c).html(text_remaining);
    });
    $(j).keyup(function() {
      let text_length = $(j).val().length;
      let text_remaining = maxcharFlavor - text_length;

      $(d).html(text_remaining);
    });
  });


  $(document).ready(function() {
  $('body').bootstrapMaterialDesign();
});
</script>
</html>